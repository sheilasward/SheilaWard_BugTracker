@using SheilaWard_BugTracker.Helpers;
@using SheilaWard_BugTracker.Models;

@{
    var ticketHelper = new TicketDecisionHelper();
    var projectHelper = new ProjectsHelper();
    var notificationHelper = new NotificationHelper();
    ApplicationDbContext db = new ApplicationDbContext();
}

    <ul id="sidebar-items" class="sidebar-menu" data-widget="tree">
        <li class="header">DEVELOPER NAVIGATION</li>
        <li class="current">
            <a href="@Url.Action("Dashboard", "Home")">
                <i class="fa fa-dashboard"></i> <span>Dashboard</span>
            </a>
        </li>
        <li><hr /></li>

        <li><a href="@Url.Action("UsersOnMyProjects", "Admin")"><i class="fa fa-user"></i> Users On My Projects</a></li>
        <li><hr /></li>

        <li>
            <a href="@Url.Action("Index", "Projects", new { proj = "MyProjects" })">
                <i class="fa fa-book"></i>
                <span>My Projects</span>
                <span class="pull-right-container">
                    <small data-toggle="tooltip" title="All My Projects" class="label pull-right bg-white">@projectHelper.CountUserProjects()</small>
                </span>
            </a>
        </li>
        <li><hr /></li>

        <li>
            <span class="viewManageTickets">
                <span>&emsp;</span>
                <i class="fa fa-bug"></i>
                <span> View/Manage Tickets</span>
            </span>
        </li>

        <li>
            <a href="@Url.Action("Index", "Tickets", new { proj = "MyTickets", stat = "All"})">
                <span>&emsp;</span>
                <i class="fa fa-circle-o"></i>
                <span> All</span>
                <span class="pull-right-container">
                    <small data-toggle="tooltip" title="All My Tickets" class="label pull-right bg-white">@ticketHelper.GetTicketCount("All")</small>
                </span>
            </a>
        </li>

        <li>
            <a href="@Url.Action("Index", "Tickets", new { proj = "MyTickets", stat = "InProg"})">
                <span>&emsp;</span>
                <i class="fa fa-circle-o"></i>
                <span> In Progress</span>
                <span class="pull-right-container">
                    <small data-toggle="tooltip" title="Active/Assigned" class="label pull-right bg-green">@ticketHelper.GetTicketCount("Active/Assigned")</small>
                </span>
            </a>
        </li>

        <li>
            <a href="@Url.Action("Index", "Tickets", new { proj = "MyTickets", stat = "Completed" })">
                <span>&emsp;</span>
                <i class="fa fa-circle-o"></i>
                <span>Completed</span>
                <span class="pull-right-container">
                    <small data-toggle="tooltip" title="Completed" class="label pull-right bg-red">@ticketHelper.GetTicketCount("Completed")</small>
                    <small data-toggle="tooltip" title="Archived" class="label pull-right bg-blue">@ticketHelper.GetTicketCount("Archived")</small>
                </span>
            </a>
        </li>
        <li><hr /></li>

        <li>
            <a href="@Url.Action("MyNotifications", "TicketNotifications")">
                <i class="fa fa-bell-o"></i>
                <span>My Notifications</span>
                <span class="pull-right-container">
                    <small data-toggle="tooltip" title="Read Notifications" class="label pull-right bg-green">@notificationHelper.GetReadUserNotificationCount()</small>
                    <small data-toggle="tooltip" title="Unread Notifications" class="label pull-right bg-yellow">@notificationHelper.GetNewUserNotificationCount()</small>
                </span>
            </a>
        </li>
    </ul>

